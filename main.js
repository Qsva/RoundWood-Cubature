let btnEsc = document.querySelector('.btnEsc');
let len = document.querySelector('.length');
let diam = document.querySelector('.diameter');
let btn = document.querySelector('.btn');
let colAnswer = document.querySelector('.colAnswer');
let tempLen = len;//нужно, что бы вернуть первоначальное значение переменной len
let tempDiam = diam;
const diameterLog = [10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120];
const arrCube = [[0.008, 0.01, 0.012, 0.014, 0.016, 0.018, 0.021, 0.024, 0.027, 0.03, 0.033, 0.037, 0.04, 0.044, 0.048, 0.053, 0.057, 0.062, 0.067, 0.072, 0.077, 0.082, 0.087, 0.094, 0.1, 0.105, 0.11, 0.115, 0.12, 0.13, 0.14, 0.145, 0.15, 0.155, 0.16, 0.17, 0.18, 0.185, 0.19, 0.2, 0.21, 0.22, 0.23, 0.24, 0.25, 0.26, 0.27, 0.28, 0.29, 0.3, 0.31, 0.32, 0.33, 0.34, 0.35, 0.36, 0.37, 0.38, 0.39, 0.405, 0.42, 0.43, 0.44, 0.45, 0.46, 0.475, 0.49, 0.505, 0.52, 0.53, 0.54, 0.555, 0.57, 0.585, 0.6, 0.615, 0.63, 0.645, 0.66, 0.675, 0.69, 0.705, 0.72, 0.735, 0.75, 0.765, 0.78, 0.795, 0.81, 0.83, 0.85, 0.865, 0.88, 0.9, 0.92, 0.935, 0.95, 0.97, 0.99, 1.01, 1.03, 1.045, 1.06, 1.08, 1.1, 1.12, 1.14, 1.16, 1.18, 1.2, 1.22], //1m - 0
                 [0.012, 0.016, 0.019, 0.022, 0.025, 0.029, 0.033, 0.037, 0.041, 0.046, 0.051, 0.057, 0.062, 0.069, 0.075, 0.082, 0.089, 0.097, 0.104, 0.112, 0.119, 0.127, 0.135, 0.135, 0.15, 0.17, 0.17, 0.18, 0.19, 0.2, 0.21, 0.22, 0.23, 0.24, 0.25, 0.26, 0.27, 0.285, 0.3, 0.31, 0.32, 0.34, 0.36, 0.37, 0.38, 0.4, 0.42, 0.435, 0.45, 0.465, 0.48, 0.5, 0.52, 0.535, 0.55, 0.565, 0.58, 0.6, 0.62, 0.64, 0.66, 0.675, 0.69, 0.71, 0.73, 0.745, 0.76, 0.78, 0.8, 0.82, 0.84, 0.86, 0.88, 0.905, 0.93, 0.95, 0.97, 0.995, 1.02, 1.04, 1.06, 1.085, 1.11, 1.135, 1.16, 1.185, 1.21, 1.235, 1.26, 1.285, 1.31, 1.34, 1.37, 1.395, 1.42, 1.45, 1.48, 1.505, 1.53, 1.56, 1.59, 1.62, 1.65, 1.68, 1.71, 1.74, 1.77, 1.8, 1.83, 1.86, 1.89], //1.5m - 1
                 [0.017, 0.022, 0.026, 0.03, 0.035, 0.039, 0.044, 0.05, 0.056, 0.063, 0.069, 0.077, 0.084, 0.094, 0.103, 0.113, 0.123, 0.134, 0.144, 0.155, 0.165, 0.178, 0.19, 0.2, 0.21, 0.22, 0.23, 0.245, 0.26, 0.27, 0.28, 0.295, 0.31, 0.325, 0.34, 0.355, 0.37, 0.39, 0.41, 0.425, 0.44, 0.46, 0.48, 0.505, 0.53, 0.55, 0.57, 0.59, 0.61, 0.635, 0.66, 0.685, 0.71, 0.73, 0.75, 0.775, 0.8, 0.825, 0.85, 0.87, 0.89, 0.91, 0.93, 0.955, 0.98, 1.01, 1.04, 1.065, 1.09, 1.12, 1.15, 1.18, 1.21, 1.24, 1.27, 1.3, 1.33, 1.36, 1.39, 1.425, 1.46, 1.49, 1.52, 1.555, 1.59, 1.625, 1.66, 1.695, 1.73, 1.765, 1.8, 1.835, 1.87, 1.91, 1.95, 1.985, 2.02, 2.06, 2.1, 2.14, 2.18, 2.22, 2.26, 2.3, 2.34, 2.38, 2.42, 2.46, 2.5, 2.545, 2.59], //2m - 2
                 [0.022, 0.027, 0.031, 0.036, 0.043, 0.048, 0.056, 0.063, 0.071, 0.079, 0.087, 0.097, 0.107, 0.119, 0.13, 0.142, 0.154, 0.167, 0.18, 0.19, 0.2, 0.215, 0.23, 0.245, 0.26, 0.275, 0.29, 0.305, 0.32, 0.34, 0.36, 0.375, 0.39, 0.41, 0.43, 0.45, 0.47, 0.49, 0.51, 0.535, 0.56, 0.585, 0.61, 0.635, 0.66, 0.69, 0.72, 0.745, 0.77, 0.8, 0.83, 0.855, 0.88, 0.91, 0.94, 0.97, 1, 1.025, 1.05, 1.085, 1.12, 1.15, 1.18, 1.21, 1.24, 1.275, 1.31, 1.345, 1.38, 1.42, 1.46, 1.495, 1.53, 1.57, 1.61, 1.645, 1.68, 1.72, 1.76, 1.8, 1.84, 1.88, 1.92, 1.96, 2, 2.045, 2.09, 2.13, 2.17, 2.22, 2.27, 2.31, 2.35, 2.4, 2.45, 2.495, 2.54, 2.59, 2.64, 2.685, 2.73, 2.78, 2.83, 2.885, 2.94, 2.99, 3.04, 3.095, 3.15, 3.205, 3.26], //2.5m - 3
                 [0.026, 0.032, 0.038, 0.045, 0.052, 0.06, 0.069, 0.077, 0.086, 0.097, 0.107, 0.119, 0.13, 0.144, 0.157, 0.171, 0.185, 0.203, 0.22, 0.235, 0.25, 0.265, 0.28, 0.3, 0.32, 0.34, 0.36, 0.375, 0.39, 0.41, 0.43, 0.45, 0.47, 0.495, 0.515, 0.543, 0.57, 0.595, 0.62, 0.645, 0.67, 0.7, 0.73, 0.765, 0.8, 0.83, 0.86, 0.89, 0.92, 0.955, 0.99, 1.025, 1.06, 1.095, 1.13, 1.165, 1.2, 1.235, 1.27, 1.305, 1.34, 1.375, 1.41, 1.45, 1.49, 1.53, 1.57, 1.615, 1.66, 1.7, 1.74, 1.785, 1.83, 1.875, 1.92, 1.965, 2.01, 2.06, 2.11, 2.16, 2.21, 2.255, 2.3, 2.355, 2.41, 2.46, 2.51, 2.565, 2.62, 2.67, 2.72, 2.775, 2.83, 2.89, 2.95, 3.005, 3.06, 3.12, 3.18, 3.235, 3.29, 3.355, 3.42, 3.48, 3.54, 3.6, 3.66, 3.725, 3.79, 3.855, 3.92], //3м - 4
                 [0.031, 0.037, 0.046, 0.053, 0.061, 0.071, 0.082, 0.092, 0.103, 0.115, 0.126, 0.14, 0.154, 0.169, 0.184, 0.197, 0.21, 0.23, 0.25, 0.27, 0.29, 0.31, 0.33, 0.35, 0.37, 0.395, 0.42, 0.44, 0.46, 0.48, 0.5, 0.53, 0.56, 0.585, 0.61, 0.64, 0.67, 0.7, 0.73, 0.76, 0.79, 0.825, 0.86, 0.895, 0.93, 0.97, 1.01, 1.045, 1.08, 1.12, 1.16, 1.2, 1.24, 1.285, 1.33, 1.365, 1.4, 1.445, 1.49, 1.53, 1.57, 1.615, 1.66, 1.705, 1.75, 1.8, 1.85, 1.9, 1.95, 2, 2.05, 2.1, 2.15, 2.205, 2.26, 2.315, 2.37, 2.425, 2.48, 2.535, 2.59, 2.65, 2.71, 2.77, 2.83, 2.89, 2.95, 3.01, 3.07, 3.135, 3.2, 3.265, 3.33, 3.395, 3.46, 3.525, 3.59, 3.66, 3.73, 3.8, 3.87, 3.94, 4.01, 4.085, 4.16, 4.235, 4.31, 4.38, 4.45, 4.53, 4.61], //3,5м - 5
                 [0.037, 0.045, 0.053, 0.062, 0.07, 0.08, 0.10, 0.11, 0.12, 0.13, 0.15, 0.16, 0.18, 0.19, 0.21, 0.23, 0.25, 0.27, 0.29, 0.31, 0.33, 0.36, 0.38, 0.41, 0.43, 0.46, 0.48, 0.51, 0.53, 0.56, 0.58, 0.61, 0.64, 0.67, 0.70, 0.74, 0.77, 0.81, 0.84, 0.88, 0.91, 0.95, 0.99, 1.03, 1.07, 1.115, 1.16, 1.205, 1.25, 1.29, 1.33, 1.38, 1.43, 1.475, 1.52, 1.565, 1.61, 1.655, 1.7, 1.75, 1.8, 1.85, 1.9, 1.955, 2.01, 2.065, 2.12, 2.18, 2.24, 2.295, 2.35, 2.41, 2.47, 2.53, 2.59, 2.65, 2.71, 2.78, 2.85, 2.915, 2.98, 3.045, 3.11, 3.18, 3.25, 3.32, 3.39, 3.46, 3.53, 3.6, 3.67, 3.745, 3.82, 3.895, 3.97, 4.05, 4.13, 4.21, 4.29, 4.37, 4.45, 4.53, 4.61, 4.695, 4.78, 4.86, 4.94, 5.03, 5.12, 5.205, 5.29], //4м - 6
                 [0.044, 0.053, 0.063, 0.074, 0.084, 0.097, 0.11, 0.124, 0.138, 0.154, 0.17, 0.185, 0.2, 0.22, 0.24, 0.26, 0.28, 0.305, 0.33, 0.355, 0.38, 0.405, 0.43, 0.46, 0.49, 0.515, 0.54, 0.57, 0.6, 0.63, 0.66, 0.695, 0.73, 0.765, 0.8, 0.835, 0.87, 0.91, 0.95, 0.99, 1.03, 1.075, 1.12, 1.165, 1.21, 1.26, 1.31, 1.36, 1.41, 1.46, 1.51, 1.565, 1.62, 1.67, 1.72, 1.77, 1.82, 1.87, 1.92, 1.97, 2.02, 2.08, 2.14, 2.2, 2.26, 2.325, 2.39, 2.455, 2.52, 2.59, 2.66, 2.73, 2.8, 2.87, 2.94, 2.985, 3.03, 3.13, 3.23, 3.3, 3.37, 3.45, 3.53, 3.605, 3.68, 3.76, 3.84, 3.92, 4, 4.085, 4.17, 4.25, 4.33, 4.42, 4.51, 4.595, 4.68, 4.77, 4.86, 4.95, 5.04, 5.135, 5.23, 5.32, 5.41, 5.51, 5.61, 5.705, 5.8, 5.9, 6], //4.5м - 7
                 [0.051, 0.062, 0.073, 0.085, 0.097, 0.11, 0.124, 0.14, 0.156, 0.173, 0.19, 0.21, 0.23, 0.25, 0.27, 0.295, 0.32, 0.345, 0.37, 0.395, 0.42, 0.45, 0.48, 0.51, 0.54, 0.57, 0.6, 0.635, 0.67, 0.705, 0.74, 0.775, 0.81, 0.85, 0.89, 0.935, 0.98, 1.02, 1.06, 1.105, 1.15, 1.2, 1.25, 1.3, 12785, 1.405, 1.46, 1.515, 1.57, 1.625, 1.68, 1.74, 1.8, 1.855, 1.91, 1.965, 2.02, 2.075, 2.13, 2.19, 2.25, 2.315, 2.38, 2.45, 2.52, 2.595, 2.67, 2.745, 2.82, 2.895, 2.97, 3.05, 3.13, 3.205, 3.28, 3.34, 3.4, 3.5, 3.6, 3.685, 3.77, 3.855, 3.94, 4.025, 4.11, 4.2, 4.29, 4.38, 4.47, 4.56, 4.65, 4.745, 4.84, 4.935, 5.03, 5.13, 5.23, 5.33, 5.43, 5.53, 5.63, 5.735, 5.84, 5.945, 6.05, 6.155, 6.26, 6.37, 6.48, 6.59, 6.7], //5м - 8
                 [0.058, 0.07, 0.083, 0.097, 0.11, 0.125, 0.14, 0.157, 0.175, 0.193, 0.21, 0.23, 0.25, 0.275, 0.3, 0.325, 0.35, 0.38, 0.41, 0.44, 0.47, 0.5, 0.53, 0.565, 0.6, 0.635, 0.67, 0.705, 0.74, 0.78, 0.82, 0.86, 0.9, 0.945, 0.99, 1.035, 1.08, 1.13, 1.18, 1.23, 1/28, 1.335, 1.39, 1.445, 1.5, 1.56, 1.62, 1.68, 1.74, 1.8, 1.86, 1.925, 1.99, 2.05, 2.11, 2.17, 2.23, 2.29, 2.35, 2.415, 2.48, 2.55, 2.62, 2.695, 2.77, 2.845, 2.92, 3, 3.08, 3.16, 3.24, 3.325, 3.41, 3.495, 3.58, 3.675, 3.77, 3.86, 3.95, 4.045, 4.14, 4.24, 4.34, 4.43, 4.52, 4.625, 4.73, 4.83, 4.93, 5.035, 5.14, 5.245, 5.35, 5.46, 5.57, 5.68, 5.79, 5.9, 6.01, 6.125, 6.24, 6.35, 6.46, 6.58, 6.7, 6.815, 6.93, 7.055, 7.18, 7.3, 7.42], //5.5м - 9
                 [0.065, 0.08, 0.093, 0.108, 0.123, 0.139, 0.155, 0.174, 0.194, 0.212, 0.23, 0.255, 0.28, 0.305, 0.33, 0.36, 0.39, 0.42, 0.45, 0.485, 0.52, 0.555, 0.59, 0.625, 0.66, 0.7, 0.74, 0.78, 0.82, 0.86, 0.9, 0.95, 1, 1.045, 1.09, 1.14, 1.19, 1.245, 1.3, 1.355, 1.41, 1.47, 1.53, 1.59, 1.65, 1.715, 1.78, 1.845, 1.91, 1.98, 2.05, 2.115, 2.18, 2.25, 2.32, 2.38, 2.44, 2.505, 2.57, 2.645, 2.72, 2.795, 2.87, 2.95, 3.03, 3.115, 3.2, 3.29, 3.38, 3.475, 3.57, 3.66, 3.75, 3.845, 3.94, 4.035, 4.13, 4.235, 4.34, 4.45, 4.56, 4.67, 4.78, 4.89, 5, 5.11, 5.22, 5.335, 5.45, 5.565, 5.68, 5.795, 5.91, 6.03, 6.15, 6.27, 6.39, 6.51, 6.63, 6.755, 6.88, 7.005, 7.13, 7.26, 7.39, 7.52, 7.65, 7.78, 7.91, 8.045, 8.18], //6м - 10
                 [0.075, 0.09, 0.103, 0.12, 0.135, 0.153, 0.172, 0.191, 0.21, 0.235, 0.26, 0.285, 0.31, 0.335, 0.36, 0.395, 0.43, 0.46, 0.49, 0.525, 0.56, 0.6, 0.64, 0.68, 0.72, 0.76, 0.8, 0.85, 0.9, 0.945, 0.99, 1.035, 1.08, 1.14, 1.2, 1.25, 1.3, 1.355, 1.41, 1.475, 1.54, 1.605, 1.67, 1.735, 1.8, 1.875, 1.95, 2.015, 2.08, 2.155, 2.23, 2.3, 2.37, 2.445, 2.52, 2.59, 2.66, 2.735, 2.81, 2.89, 2.97, 3.055, 3.14, 3.23, 3.32, 3.415, 3.51, 3.605, 3.7, 3.8, 3.9, 4.005, 4.11, 4.215, 4.32, 4.43, 4.54, 4.655, 4.77, 4.88, 4.99, 5.105, 5.22, 5.345, 5.47, 5.58, 5.69, 5.81, 5.93, 6.06, 6.19, 6.31, 6.43, 6.555, 6.68, 6.825, 6.97, 7.1, 7.23, 7.365, 7.5, 7.635, 7.77, 7.91, 8.05, 8.195, 8.34, 8.485, 8.63, 8.78, 8.93], //6.5м - 11
                 [0.082, 0.098, 0.114, 0.132, 0.15, 0.169, 0.189, 0.209, 0.23, 0.255, 0.28, 0.31, 0.34, 0.37, 0.4, 0.43, 0.46, 0.495, 0.53, 0.57, 0.61, 0.655, 0.7, 0.74, 0.78, 0.83, 0.88, 0.925, 0.97, 1.02, 1.07, 1.125, 1.18, 1.24, 1.3, 1.355, 1.41, 1.475, 1.54, 1.605, 1.67, 1.74, 1.81, 1.885, 1.96, 2.035, 2.11, 2.19, 2.27, 2.345, 2.42, 2.495, 2.57, 2.65, 2.73, 2.805, 2.88, 2.965, 3.05, 3.14, 3.23, 3.325, 3.42, 3.52, 3.62, 3.715, 3.81, 3.925, 4.04, 4.15, 4.26, 4.365, 4.47, 4.585, 4.7, 4.82, 4.94, 5.06, 5.18, 5.3, 5.42, 5.545, 5.67, 5.795, 5.92, 6.045, 6.17, 6.3, 6.43, 6.565, 6.7, 6.835, 6.97, 7.11, 7.25, 7.39, 7.53, 7.67, 7.81, 7.96, 8.11, 8.255, 8.4, 8.555, 8.71, 8.86, 9.01, 9.17, 9.33, 9.49, 9.65], //7m. - 12
                 [0.09, 0.108, 0.125, 0.144, 0.164, 0.182, 0.2, 0.225, 0.25, 0.275, 0.3, 0.335, 0.37, 0.4, 0.43, 0.465, 0.5, 0.54, 0.58, 0.62, 0.66, 0.71, 0.76, 0.805, 0.85, 0.9, 0.95, 1, 1.05, 1.105, 1.16, 1.22, 1.28, 1.34, 1.4, 1.465, 1.53, 1.6, 1.67, 1.74, 1.81, 1.89, 1.97, 2.045, 2.12, 2.2, 2.28, 2.365, 2.45, 2.535, 2.62, 2.7, 2.78, 2.865, 2.95, 3.03, 3.11, 3.21, 3.31, 3.41, 3.51, 3.615, 3.72, 3.82, 3.92, 4.03, 4.14, 4.255, 4.37, 4.485, 4.6, 4.71, 4.82, 4.945, 5.07, 5.195, 5.32, 5.445, 5.57, 5.7, 5.83, 5.96, 6.09, 6.225, 6.36, 6.495, 6.63, 6.77, 6.91, 7.055, 7.2, 7.345, 7.49, 7.64, 7.79, 7.945, 8.1, 8.25, 8.4, 8.56, 8.72, 8.875, 9.03, 9.2, 9.37, 9.53, 9.69, 9.86, 10.03, 10.205, 10.38], //7.5m - 13 ( 13 * 2 - 2) 
                 [0.1, 0.12, 0.138, 0.158, 0.179, 0.199, 0.22, 0.25, 0.28, 0.305, 0.33, 0.365, 0.4, 0.435, 0.47, 0.505, 0.54, 0.585, 0.63, 0.675, 0.72, 0.77, 0.82, 0.87, 0.92, 0.97, 1.02, 1.075, 1.13, 1.19, 1.25, 1.315, 1.38, 1.445, 1.51, 1.58, 1.65, 1.725, 1.8, 1.875, 1.95, 2.035, 2.12, 2.205, 2.29, 2.375, 2.46, 2.545, 2.63, 2.72, 2.81, 2.9, 2.99, 3.08, 3.17, 3.275, 3.38, 3.485, 3.59, 3.695, 3.8, 3.91, 4.02, 4.135, 4.25, 4.365, 4.48, 4.6, 4.72, 4.835, 4.95, 5.085, 5.22, 5.345, 5.47, 5.595, 5.72, 5.86, 6, 6.135, 6.27, 6.41, 6.55, 6.69, 6.83, 6.975, 7.12, 7.28, 7.44, 7.585, 7.73, 7.885, 8.04, 8.2, 8.36, 8.54, 8.72, 8.885, 9.05, 9.215, 9.38, 9.555, 9.73, 9.9, 10.07, 10.255, 10.44, 10.615, 10.79, 10.985, 11.18], //8m - 14
                 [0.11, 0.13, 0.15, 0.173, 0.195, 0.217, 0.24, 0.27, 0.3, 0.33, 0.36, 0.395, 0.43, 0.465, 0.5, 0.54, 0.58, 0.625, 0.67, 0.725, 0.78, 0.83, 0.88, 0.93, 0.98, 1.04, 1.1, 1.16, 1.22, 1.285, 1.35, 1.415, 1.48, 1.55, 1.62, 1.695, 1.77, 1.85, 1.93, 2.015, 2.1, 2.19, 2.28, 2.37, 2.46, 2.55, 2.64, 2.735, 2.83, 2.925, 3.02, 3.115, 3.21, 3.305, 3.4, 3.51, 3.62, 3.73, 3.84, 3.955, 4.07, 4.19, 4.31, 4.43, 4.55, 4.675, 4.8, 4.93, 5.06, 5.19, 5.32, 5.455, 5.59, 5.725, 5.86, 6.005, 6.15, 6.295, 6.44, 6.585, 6.73, 6.885, 7.04, 7.185, 7.33, 7.48, 7.63, 7.805, 7.98, 8.14, 8.3, 8.47, 8.64, 8.815, 8.99, 9.165, 9.34, 9.515, 9.69, 9.875, 10.06, 10.245, 10.43, 10.615, 10.8, 10.99, 11.18, 11.38, 11.58, 11.775, 11.97], //8.5m - 15
];

function calc(event) {
  len = +len.value;
  let total = 0;
  let insDiam = [...diam.value.split(',').map(el => +el)];
  
  for (let i = 0; i < insDiam.length; i++) {
    let tmpInd = diameterLog.indexOf(insDiam[i]); //0
    
    if (Number.isInteger(len)) {
      if (len === 0 || len === 2) {
        total += arrCube[len][tmpInd];
      } else {
        total += arrCube[(len * 2) - 2][tmpInd];
      }
    } else if (!Number.isInteger(len)) {
      total += arrCube[(len * 2) - 2][tmpInd];
    }
  }
  colAnswer.value = total.toFixed(3);
}

btn.addEventListener('click', calc);

function clearResult(event) {
  if (event) {
    colAnswer.value = 0;
    len = tempLen;
    len.value = '';
    diam = tempDiam;
    diam.value = '';
  }
  console.log('Была нажата кнопка очистки');
}

btnEsc.addEventListener('click', () => {
  clearResult(true);
});